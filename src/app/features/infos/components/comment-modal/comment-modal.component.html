<ion-header class="bg-white border-b border-gray-200">
  <ion-toolbar>
    <div class="flex justify-between items-center px-4 py-2">
      <div class="flex items-center">
        <ion-button fill="clear" (click)="dismissModal()" class="text-gray-500 mr-2">
          <ion-icon name="close-outline" slot="icon-only"></ion-icon>
        </ion-button>
        <h2 class="text-lg font-semibold text-gray-800">{{ activity.title }}</h2>
      </div>
      <div class="flex items-center text-gray-500">
        <ion-icon name="chatbubble-outline" class="mr-1"></ion-icon>
        <span>{{ activity.commentCount }}</span>
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-gray-50">
  <div class="p-4">
    <!-- Comment input section -->
    <div class="bg-white rounded-xl shadow-sm mb-6 p-3">
      <form [formGroup]="commentForm" (ngSubmit)="submitComment()">
        <div class="flex items-center">
          <img src="assets/images/1.png" alt="Your Avatar" class="w-10 h-10 rounded-full mr-3">
          <ion-textarea 
            placeholder="Ajouter un commentaire..." 
            class="flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm"
            formControlName="comment"
            rows="1"
            autoGrow="true">
          </ion-textarea>
          <ion-button 
            type="submit" 
            fill="clear" 
            [disabled]="!commentForm.valid"
            class="ml-2 text-blue-600">
            <ion-icon name="send-outline" slot="icon-only"></ion-icon>
          </ion-button>
        </div>
      </form>
    </div>

    <!-- Comments list -->
    <div class="space-y-4">
      <div *ngFor="let comment of comments" class="bg-white rounded-xl shadow-sm p-4">
        <div class="flex mb-3">
          <img [src]="comment.avatar" alt="comment.user" class="w-10 h-10 rounded-full mr-3">
          <div>
            <h4 class="font-medium text-gray-800">{{ comment.user }}</h4>
            <p class="text-xs text-gray-500">{{ comment.time }}</p>
          </div>
        </div>
        <p class="text-gray-700 mb-3">{{ comment.text }}</p>
        <div class="flex justify-between items-center text-gray-500 text-sm">
          <div class="flex items-center">
            <ion-button fill="clear" size="small" class="text-gray-500">
              <ion-icon name="heart-outline" slot="start"></ion-icon>
              J'aime ({{ comment.likes }})
            </ion-button>
          </div>
          <ion-button fill="clear" size="small" class="text-gray-500">
            <ion-icon name="arrow-redo-outline" slot="start"></ion-icon>
            RÃ©pondre
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>